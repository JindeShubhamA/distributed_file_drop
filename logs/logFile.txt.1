2020-10-18 14:01:53,027 - ERROR - Socket failed to connect: <socket.socket fd=12, family=AddressFamily.AF_INET, type=2049, proto=6, laddr=('172.18.0.7', 42530)>; error=111 (Connection refused)
2020-10-18 14:01:53,080 - ERROR - TCP Connection attempt failed: ConnectionRefusedError(111, 'Connection refused'); dest=(<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 6, '', ('172.18.0.12', 5672))
2020-10-18 14:01:53,081 - ERROR - AMQPConnector - reporting failure: AMQPConnectorSocketConnectError: ConnectionRefusedError(111, 'Connection refused')
2020-10-18 14:01:53,099 - ERROR - AMQP connection workflow failed: AMQPConnectionWorkflowFailed: 1 exceptions in all; last exception - AMQPConnectorSocketConnectError: ConnectionRefusedError(111, 'Connection refused'); first exception - None.
2020-10-18 14:01:53,102 - ERROR - AMQPConnectionWorkflow - reporting failure: AMQPConnectionWorkflowFailed: 1 exceptions in all; last exception - AMQPConnectorSocketConnectError: ConnectionRefusedError(111, 'Connection refused'); first exception - None
2020-10-18 14:01:53,103 - ERROR - Connection workflow failed: AMQPConnectionWorkflowFailed: 1 exceptions in all; last exception - AMQPConnectorSocketConnectError: ConnectionRefusedError(111, 'Connection refused'); first exception - None
2020-10-18 14:01:53,107 - ERROR - Error in _create_connection().
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/pika/adapters/blocking_connection.py", line 450, in _create_connection
    raise self._reap_last_connection_workflow_error(error)
pika.exceptions.AMQPConnectionError
2020-10-18 14:05:16,167 - INFO - RabbitMq thread started app starting
2020-10-18 14:05:16,173 - INFO -  * Running on http://0.0.0.0:4500/ (Press CTRL+C to quit)
2020-10-18 14:05:16,180 - INFO - Pika version 1.1.0 connecting to ('172.18.0.12', 5672)
2020-10-18 14:05:16,182 - INFO - Socket connected: <socket.socket fd=12, family=AddressFamily.AF_INET, type=2049, proto=6, laddr=('172.18.0.7', 42618), raddr=('172.18.0.12', 5672)>
2020-10-18 14:05:16,186 - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f795c395a58>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f795c395a58> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2020-10-18 14:05:16,193 - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f795c395a58> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2020-10-18 14:05:16,194 - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f795c395a58> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2020-10-18 14:05:16,195 - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f795c395a58> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2020-10-18 14:05:16,196 - INFO - Created channel=1
2020-10-18 14:19:33,755 - INFO - AWS S3 - Upload successful
2020-10-18 14:19:33,950 - INFO - MongoDB GridFs - Inserted to the MongoDB GridFs
2020-10-18 14:19:33,951 - INFO - {'clientName': "<FileStorage: 'user_name' (None)>", 'clientId': "<FileStorage: 'user_id' (None)>", 'filename': 'f4c75ee7-52d2-4d8b-96be-66a6adca20c0', 'activity': 1, 'created': datetime.datetime(2020, 10, 18, 14, 19, 33, 951664), 'file_metadata': "<FileStorage: 'metadata' (None)>", 'gridFs_id': ObjectId('5f8c4ef5993a6f4deb4a465b')}
2020-10-18 14:19:34,016 - INFO - MongoDB - Inserted to the MongoDB
2020-10-18 14:19:34,017 - INFO - File Uploaded Successfully
2020-10-18 14:19:34,033 - INFO - Consumer Task Completed
2020-10-18 14:38:14,996 - INFO - ClientHistory API
2020-10-18 14:38:15,005 - INFO - MongoDB - Got client History
2020-10-18 14:38:15,006 - INFO - MongoDb - Got client History
2020-10-18 14:38:15,009 - INFO - 172.18.0.1 - - [18/Oct/2020 14:38:15] "[37mGET /client/history/821e1fa7-141a-4556-8ce1-a1753416d8aa HTTP/1.1[0m" 200 -
2020-10-18 14:38:32,203 - INFO - AWS S3 - Upload successful
2020-10-18 14:38:32,217 - INFO - MongoDB GridFs - Inserted to the MongoDB GridFs
2020-10-18 14:38:32,232 - INFO - {'clientName': "<FileStorage: 'user_name' (None)>", 'clientId': "<FileStorage: 'user_id' (None)>", 'filename': '8833d15e-f0cf-449b-b89c-9491853b47ca', 'activity': 1, 'created': datetime.datetime(2020, 10, 18, 14, 38, 32, 232887), 'file_metadata': "<FileStorage: 'metadata' (None)>", 'gridFs_id': ObjectId('5f8c5368993a6f4deb4a465e')}
2020-10-18 14:38:32,236 - INFO - MongoDB - Inserted to the MongoDB
2020-10-18 14:38:32,238 - INFO - File Uploaded Successfully
2020-10-18 14:38:32,269 - INFO - Consumer Task Completed
2020-10-18 14:38:32,613 - INFO - AWS S3 - Upload successful
2020-10-18 14:38:32,625 - INFO - MongoDB GridFs - Inserted to the MongoDB GridFs
2020-10-18 14:38:32,632 - INFO - {'clientName': "<FileStorage: 'user_name' (None)>", 'clientId': "<FileStorage: 'user_id' (None)>", 'filename': 'f9422018-f68f-42e2-8119-281aacb14f59', 'activity': 1, 'created': datetime.datetime(2020, 10, 18, 14, 38, 32, 632317), 'file_metadata': "<FileStorage: 'metadata' (None)>", 'gridFs_id': ObjectId('5f8c5368993a6f4deb4a4661')}
2020-10-18 14:38:32,636 - INFO - MongoDB - Inserted to the MongoDB
2020-10-18 14:38:32,639 - INFO - File Uploaded Successfully
2020-10-18 14:38:32,671 - INFO - Consumer Task Completed
2020-10-18 14:38:34,689 - INFO - ClientHistory API
2020-10-18 14:38:34,691 - INFO - MongoDB - Got client History
2020-10-18 14:38:34,692 - INFO - MongoDb - Got client History
2020-10-18 14:38:34,693 - INFO - 172.18.0.1 - - [18/Oct/2020 14:38:34] "[37mGET /client/history/821e1fa7-141a-4556-8ce1-a1753416d8aa HTTP/1.1[0m" 200 -
2020-10-18 14:38:55,069 - INFO - ClientHistory API
2020-10-18 14:38:55,076 - INFO - MongoDB - Got client History
2020-10-18 14:38:55,083 - INFO - MongoDb - Got client History
2020-10-18 14:38:55,086 - INFO - 172.18.0.1 - - [18/Oct/2020 14:38:55] "[37mGET /client/history/821e1fa7-141a-4556-8ce1-a1753416d8aa HTTP/1.1[0m" 200 -
2020-10-18 14:42:09,761 - INFO - ClientHistory API
2020-10-18 14:42:09,771 - INFO - MongoDB - Got client History
2020-10-18 14:42:09,773 - INFO - MongoDb - Got client History
2020-10-18 14:42:09,776 - INFO - 172.18.0.1 - - [18/Oct/2020 14:42:09] "[37mGET /client/history/821e1fa7-141a-4556-8ce1-a1753416d8aa HTTP/1.1[0m" 200 -
2020-10-18 14:42:30,461 - INFO - ClientHistory API
2020-10-18 14:42:30,466 - INFO - MongoDB - Got client History
2020-10-18 14:42:30,475 - INFO - MongoDb - Got client History
2020-10-18 14:42:30,501 - INFO - 172.18.0.1 - - [18/Oct/2020 14:42:30] "[37mGET /client/history/4 HTTP/1.1[0m" 200 -
2020-10-18 15:00:11,433 - INFO - RabbitMq thread started app starting
2020-10-18 15:00:11,439 - INFO -  * Running on http://0.0.0.0:4500/ (Press CTRL+C to quit)
2020-10-18 15:00:11,441 - INFO - Pika version 1.1.0 connecting to ('172.18.0.12', 5672)
2020-10-18 15:00:11,442 - INFO - Socket connected: <socket.socket fd=12, family=AddressFamily.AF_INET, type=2049, proto=6, laddr=('172.18.0.7', 42964), raddr=('172.18.0.12', 5672)>
2020-10-18 15:00:11,444 - INFO - Streaming transport linked up: (<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f18dafec860>, _StreamingProtocolShim: <SelectConnection PROTOCOL transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f18dafec860> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>).
2020-10-18 15:00:11,453 - INFO - AMQPConnector - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f18dafec860> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2020-10-18 15:00:11,454 - INFO - AMQPConnectionWorkflow - reporting success: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f18dafec860> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2020-10-18 15:00:11,454 - INFO - Connection workflow succeeded: <SelectConnection OPEN transport=<pika.adapters.utils.io_services_utils._AsyncPlaintextTransport object at 0x7f18dafec860> params=<ConnectionParameters host=rabbitmq port=5672 virtual_host=/ ssl=False>>
2020-10-18 15:00:11,455 - INFO - Created channel=1
2020-10-18 15:03:18,557 - INFO - ClientHistory API
2020-10-18 15:03:18,565 - INFO - MongoDB - Got client History
2020-10-18 15:03:18,566 - INFO - MongoDb - Got client History
2020-10-18 15:03:18,569 - INFO - 172.18.0.1 - - [18/Oct/2020 15:03:18] "[37mGET /client/history/821e1fa7-141a-4556-8ce1-a1753416d8aa HTTP/1.1[0m" 200 -
2020-10-18 15:03:31,393 - INFO - ClientHistory API
2020-10-18 15:03:31,413 - INFO - MongoDB - Got client History
2020-10-18 15:03:31,415 - INFO - MongoDb - Got client History
2020-10-18 15:03:31,417 - INFO - 172.18.0.1 - - [18/Oct/2020 15:03:31] "[37mGET /client/history/821e1fa7-141a-4556-8ce1-a1753416d8aa HTTP/1.1[0m" 200 -
2020-10-18 15:03:48,843 - INFO - Obj received from rabbitMq
2020-10-18 15:03:48,845 - INFO - {'id': 'c9e3622f-4705-4487-92e0-05701e8f1592', 'file_name': '0c9b2272-2632-4d96-974b-81d81202175e', 'file_cache_key': 'file:0c9b2272-2632-4d96-974b-81d81202175e', 'file_metadata': "<FileStorage: 'metadata' (None)>", 'user_id': "<FileStorage: 'user_id' (None)>", 'user_name': "<FileStorage: 'user_name' (None)>", 'event_timestamp': 1603033428.8371215}
2020-10-18 15:03:50,409 - INFO - AWS S3 - Upload successful
2020-10-18 15:03:50,417 - INFO - MongoDB GridFs - Inserted to the MongoDB GridFs
2020-10-18 15:03:50,418 - INFO - Dict to be stored in MongoDb
